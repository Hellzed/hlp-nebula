{% form_theme form 'HLPNebulaBundle:AdvancedUI:form_theme.html.twig' %}

{{ form_start(form, {'attr': {'class': 'mainForm row'}}) }}
  {{ form_errors(form) }}
  <h4><span class="glyphicon glyphicon-asterisk"></span> Mod metadata</h4>
  <hr/>
  <div class="form-group">
  {% if form.metaId is defined %}
    {{ form_label(form.metaId, "Unique mod ID*") }}
    <p class="help-block">This setting cannot be edited once the mod is published.</p>
    {{ form_errors(form.metaId) }}
    {{ form_widget(form.metaId, {'attr':{'pattern':'^[\\w]+[-\\w]*$', 'title': 'URL friendly unique ID : spaces and special characters not allowed, hyphen (\"-\") not allowed at the beginning of the ID. Underscores (\"_\") allowed.' }}) }}
  {% else %}
    <label class="form-label" for="modId_disabled">Unique mod ID <span class="text-muted">(cannot be changed)</span></label>
    <input id="metaId_disabled"class="form-control" type="text" value="{{ meta.metaId }}" disabled>
  {% endif %}
  </div>
  {% if form.defaultBranch is defined %}
  <div class="form-group">
    {{ form_label(form.defaultBranch, "Default branch") }}
    {{ form_errors(form.defaultBranch) }}
    {{ form_widget(form.defaultBranch) }}
  </div>
  {% endif %}
  <div class="form-group">
    {{ form_label(form.notes, "Notes") }}
    <p class="help-block">Notes are intended for other <em>modders</em> and <em>developers</em>, they contain optional <em>technical informations</em>. For your mod <em>description</em>, use <strong>"Description"</strong> field.</p>
    {{ form_errors(form.notes) }}
    {{ form_widget(form.notes) }}
  </div>
  <br/>
  <h4><span class="glyphicon glyphicon-star-empty"></span> Public informations</h4>
  <hr/>
  <div class="form-group">
    {{ form_label(form.title, "Mod title*") }}
    {{ form_errors(form.title) }}
    {{ form_widget(form.title, {'attr':{'title': 'Mod full title. Any character allowed (UTF-8), including spaces.'}}) }}
  </div>
  <div class="form-group">
    {{ form_label(form.firstRelease, "First release date") }}
    {{ form_errors(form.firstRelease) }}
    <div class="form-inline well well-sm">
      <div class="form-group">{{ form_widget(form.firstRelease, {'format':'dd-MM-yyyy'}) }}</div>
    </div>
  </div>
  <div class="form-group">
    {{ form_label(form.description, "Description") }}
    {{ form_errors(form.description) }}
    {{ form_widget(form.description) }}
  </div>
  <div class="form-group">
      {{ form_label(form.features, "Features") }}
      {{ form_errors(form.features) }}
      {{ form_widget(form.features) }}
      <div class="nospacer">
          <div class="nospacer">
              <button class="btn btn-default addButton" type="button" style="width: 100%;">Add feature</button>
          </div>
      </div>
  </div>
  <div class="form-group clearfix">
      {{ form_label(form.authors, "Authors") }}
      {{ form_errors(form.authors) }}
      {{ form_widget(form.authors) }}
      <div class="col-sm-4 cardspacer">
        <div class="well well-sm text-center form-ph">
          <button class="btn btn-primary addButton" type="button">Add author</button>
        </div>
      </div>
  </div>
  <br/>
  <h4><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;Catalogue search</h4>
  <hr/>
  <div class="form-group">
    {{ form_label(form.categories, "Categories") }}
    {{ form_errors(form.categories) }}
    {{ form_widget(form.categories) }}
  </div>
  <div class="form-group">
    {{ form_label(form.keywords, "Keywords") }}
    <p class="help-block">Keywords will help the players finding your mod in the built-in search engine. Use a <em>comma (",") delimited list</em>.</p>
    {{ form_errors(form.keywords) }}
    {{ form_widget(form.keywords) }}
  </div>
  <br/>
  <h4><span class="glyphicon glyphicon-camera"></span>&nbsp;&nbsp;Gallery</h4>
  <hr/>
  <div class="form-group">
    <div class="clearfix">{{ form_label(form.logo.file, "Logo*") }}
    {{ form_errors(form.logo.file) }}</div>
    <p class="help-block">A logo is a required <em>255 x 112</em> image.</p>
    
    <p class="well">{% if mod.logo.url is defined %}<img src="{{ app.request.uriForPath('/uploads/img/') | replace({'/app_dev.php': ''}) }}{{ mod.logo.id }}.{{ mod.logo.url }}">
    {% endif %}
    
    {{ form_widget(form.logo.file, { 'attr':{ 'style':'margin-top:5px;border:none;box-shadow:none;padding:0px;'}}) }}</p>
  </div>
  {{ form_rest(form) }}
  <br/>
  <hr/>
  <div class="text-center">
    <button type="submit" class="btn btn-success" style="width:100px;">Submit</button>
  </div>
{{ form_end(form) }}
