{% extends "HLPNebulaBundle:AdvancedUI:modder.html.twig" %}

{% block modder_tab %}
  {% if is_granted('add', modder) %}
  <p class="well">
    <a href="{{ path('hlp_nebula_new_mod', {'owner': modder.usernameCanonical}) }}" class="btn btn-success"><span class="glyphicon glyphicon-plus"></span> New mod</a>
  </p>
  {% endif %}
  {% for mod in modsList %}
    {% if loop.first %}
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Mod ID</th>
            <th>Title</th>
            <th>First release</th>
            {% if is_granted('add', modder) %}<th>Actions</th>{% endif %}
          </tr>
        </thead>
        <tbody>
    {% endif %}
          <tr>
            <td><a href="{{ path('hlp_nebula_mod', {'owner': modder.usernameCanonical, 'mod': mod.modId}) }}">{{ mod.modId }}</a></td>
            <td>{{ mod.title }}</td>
            <td>{{ mod.firstRelease|date("d M Y") }}</td>
            {% if is_granted('add', modder) %}
            <td>
              <a href="{{ path('hlp_nebula_edit_mod', {'owner': modder.usernameCanonical, 'mod': mod.modId}) }}" class="btn btn-default btn-xs" style="margin-top:-3px;margin-bottom:-2px;"><span class="glyphicon glyphicon-pencil"></span> Edit&nbsp;</a>&nbsp;
              <a href="{{ path('hlp_nebula_delete_mod', {'owner': modder.usernameCanonical, 'mod': mod.modId}) }}" class="btn btn-danger btn-xs" style="margin-top:-3px;margin-bottom:-2px;"><span class="glyphicon glyphicon-trash"></span> Delete&nbsp;</a>
            </td>
            {% endif %}
          </tr>
    {% if loop.last %}
        </tbody>
      </table>
    {% endif %}
  {% else %}
  <p class="lead">No mods found.</p>
  {% endfor %}
  
{% endblock %}
